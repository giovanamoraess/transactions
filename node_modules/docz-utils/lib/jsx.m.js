import{parse}from"@babel/parser";import traverse from"@babel/traverse";import{getPropValue,getProp}from"jsx-ast-utils";import strip from"strip-indent";const valueFromTraverse=(e,r=(e=>e))=>o=>{let t="";const s=parse(o,{plugins:["jsx"]});return traverse(s,{enter(o){if(e(o))return t=r(o),void o.stop()}}),t},codeFromNode=e=>r=>valueFromTraverse(e,e=>r.slice(e.node.start,e.node.end))(r),propFromElement=e=>valueFromTraverse(e=>e.isJSXOpeningElement(),r=>getPropValue(getProp(r.node.attributes,e))),removeTags=e=>{const r=codeFromNode(e=>e.isJSXOpeningElement()),o=codeFromNode(e=>e.isJSXClosingElement());return e.replace(r(e),"").replace(o(e),"")},sanitizeCode=e=>strip(e).trim().replace(/'/g,"\\'").replace(/`/g,"\\`"),componentName=e=>{const r=e.match(/^\<\\?(\w+)/);return r&&r[1]};export{propFromElement,removeTags,sanitizeCode,componentName};
